<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hurricane HTML</title>
    
    <!-- This link is provided my leaflet and is necessary in any document-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>
</head>

<!-- The below line is provided by leaflet to make the map work-->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""></script>

<!-- This is needed to insert the JSON that will be used lower in the code-->
<script src="./Data/highpeaks.js"></script>
<style>
    #map { width: 800px;  height: 800px;}
</style>
<body>
     <div id="map"></div>
</body>
<script>

    // Adding the different tiles that will be in the layer controls
    var topo = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: 'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'
});
    var imagery = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
    maxZoom: 19,
    attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
});

    var geojsonMarkerOptions = L.icon({    
        iconUrl: './Data/mountain_symbol.png',   
        iconSize: [50,50],
        popupAnchor: [0,0]
    })
    var highpeaks_var = L.geoJSON(highpeaks, {
    pointToLayer: function (feature, latlng) {
        return L.marker(latlng, {icon: geojsonMarkerOptions});
    },

    onEachFeature: function (feature, layer) {
            var name = feature.properties.FEATURE_NA;
            var elevation = feature.properties.ELEV_IN_FT;

            var customPopup = "<b>" + name + "</b><br>" +
            "Elevation: " + elevation + " ft";
            layer.bindPopup(customPopup)}

        });
    
    var map = L.map('map', {
        center: [44.181443 ,-73.934866],
        zoom: 10,
        layers: [topo, highpeaks_var]
    })

    var baseMaps = {
        "Topo Map": topo,
        "Imagery Map": imagery
    };

    var overlayMaps = {
        "HighPeaks": highpeaks_var
    };

    var layerControl = L.control.layers(baseMaps, overlayMaps).addTo(map);

</script>
</html>